<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å››åœ‹æ…¢æ—… 2026</title>
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* --- æ—¥å¼é„‰æ‘é¢¨é…è‰²è®Šæ•¸ --- */
        :root {
            --bg-color: #f9f7f2; /* å’Œç´™ç±³ç™½ */
            --primary: #7d9463; /* æŠ¹èŒ¶ç¶  */
            --secondary: #b58463; /* ç„™èŒ¶æ£• */
            --accent: #d46c5e; /* èŒœè‰² (å¼·èª¿ç”¨) */
            --text-main: #4d4d4d; /* ç‚­ç° */
            --card-bg: #ffffff;
            --shadow: 0 4px 15px rgba(125, 148, 99, 0.15);
        }

        body {
            font-family: 'Zen Maru Gothic', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding-bottom: 100px; /* é¿é–‹åº•éƒ¨å°èˆª */
            -webkit-tap-highlight-color: transparent;
            background-image: radial-gradient(#e6e2d8 1px, transparent 1px);
            background-size: 20px 20px; /* é»é»èƒŒæ™¯ */
        }

        /* --- Header --- */
        header {
            background: var(--primary);
            color: white;
            padding: 20px 15px 30px;
            border-bottom-left-radius: 25px;
            border-bottom-right-radius: 25px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
            text-align: center;
        }
        header h1 { margin: 0; font-size: 1.4rem; letter-spacing: 2px; }
        header p { margin: 5px 0 0; font-size: 0.9rem; opacity: 0.9; }

        /* --- å°èˆªåˆ— --- */
        .nav-bar {
            position: fixed;
            bottom: 20px;
            left: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            border-radius: 50px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            z-index: 200;
        }
        .nav-item {
            text-align: center;
            font-size: 0.8rem;
            color: #999;
            cursor: pointer;
            transition: 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .nav-item i { font-size: 1.2rem; margin-bottom: 3px; }
        .nav-item.active { color: var(--primary); font-weight: bold; transform: translateY(-2px); }

        /* --- å®¹å™¨èˆ‡å¡ç‰‡ --- */
        .container { padding: 20px; display: none; animation: fadeIn 0.4s ease; }
        .container.active { display: block; }

        /* æ—¥æœŸæ¨™é¡Œ */
        .date-divider {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 30px 0 15px;
            padding: 5px 10px;
            background: rgba(125, 148, 99, 0.1);
            border-radius: 10px;
            color: var(--primary);
            font-weight: bold;
        }
        .weather-info { font-size: 0.85rem; display: flex; align-items: center; gap: 5px; }

        /* é€šç”¨å¡ç‰‡æ¨£å¼ */
        .card {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 18px;
            margin-bottom: 18px;
            box-shadow: var(--shadow);
            position: relative;
            border-left: 6px solid #ccc;
        }

        /* åˆ†é¡é¡è‰² */
        .card.sightseeing { border-left-color: var(--primary); } /* æ™¯é»-ç¶  */
        .card.food { border-left-color: var(--secondary); } /* ç¾é£Ÿ-æ£• */
        .card.transport { border-left-color: #6a8caf; } /* äº¤é€š/ä½å®¿-è— */
        .card.shopping { border-left-color: var(--accent); } /* è³¼ç‰©-ç´… */

        .card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px; }
        .time-tag { 
            background: #eee; color: #666; 
            padding: 3px 8px; border-radius: 6px; 
            font-size: 0.75rem; font-weight: bold; 
        }
        .card h3 { margin: 0; font-size: 1.15rem; color: #333; flex: 1; margin-left: 10px; }
        .desc { font-size: 0.95rem; color: #666; line-height: 1.6; margin-bottom: 12px; }
        
        /* æ¨™ç±¤ Tag */
        .tags { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 12px; }
        .tag { font-size: 0.75rem; padding: 4px 10px; border-radius: 15px; font-weight: bold; }
        .tag.must { background: #fff0e6; color: var(--accent); border: 1px solid var(--accent); }
        .tag.tips { background: #e8f5e9; color: var(--primary); border: 1px solid var(--primary); }

        /* æŒ‰éˆ•ç¾¤ */
        .actions { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .btn {
            border: none; padding: 10px; border-radius: 12px;
            font-size: 0.9rem; font-weight: bold; cursor: pointer;
            display: flex; align-items: center; justify-content: center; gap: 5px;
            transition: 0.2s; text-decoration: none;
        }
        .btn:active { transform: scale(0.97); }
        .btn-map { background: var(--primary); color: white; }
        .btn-code { background: #f0f0f0; color: #555; border: 1px solid #ddd; }
        .btn-full { grid-column: span 2; }

        /* ä½å®¿è³‡è¨Šå€å¡Š */
        .hotel-card { background: white; border-radius: 15px; overflow: hidden; margin-bottom: 20px; box-shadow: var(--shadow); }
        .hotel-img { width: 100%; height: 120px; background: #eee; object-fit: cover; display: flex; align-items: center; justify-content: center; color: #999; font-size: 0.8rem; }
        .hotel-info { padding: 15px; }
        .hotel-title { font-weight: bold; font-size: 1.1rem; color: var(--primary); margin-bottom: 5px; }
        .hotel-detail { font-size: 0.9rem; color: #666; margin-bottom: 3px; }

        /* è¨˜å¸³å·¥å…· */
        .input-group { margin-bottom: 10px; }
        .input-group input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 12px; box-sizing: border-box; font-family: inherit; }
        .expense-list li { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px dashed #eee; }
        .total-box { background: var(--primary); color: white; padding: 15px; border-radius: 15px; text-align: right; font-size: 1.2rem; font-weight: bold; margin-top: 15px; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Toast Notification */
        #toast {
            visibility: hidden; min-width: 200px; background-color: #333; color: #fff;
            text-align: center; border-radius: 50px; padding: 12px;
            position: fixed; z-index: 300; left: 50%; bottom: 90px;
            transform: translateX(-50%); font-size: 0.9rem; opacity: 0; transition: opacity 0.3s;
        }
        #toast.show { visibility: visible; opacity: 1; }

    </style>
</head>
<body>

<header>
    <h1>å››åœ‹æ…¢æ—… 2026</h1>
    <p>02/27 (äº”) - 03/07 (å…­) | 9å¤©8å¤œè‡ªé§•</p>
</header>

<div id="tab-itinerary" class="container active">
    
    <div class="date-divider">
        Day 1 : 02/27 (äº”)
        <div class="weather-info">â˜ï¸ 8-14Â°C</div>
    </div>

    <div class="card transport">
        <div class="card-header"><span class="time-tag">10:30</span> <h3>æŠµé”é«˜æ¾ & ç§Ÿè»Š</h3></div>
        <div class="desc">CI278 æŠµé”é«˜æ¾ã€‚é ˜å–è¯èˆªå„ªæƒ åˆ¸ï¼Œå‰å¾€æ©Ÿå ´ç§Ÿè»Šæ«ƒå°ã€‚<br>âš ï¸ è¨˜å¾—é ç´„ ETC SEP (å››åœ‹é«˜é€Ÿåƒåˆ°é£½)ã€‚</div>
    </div>

    <div class="card food">
        <div class="card-header"><span class="time-tag">12:30</span> <h3>åˆé¤ï¼šæ£®å®¶çƒé¾éºµ</h3></div>
        <div class="desc">æ©Ÿå ´é™„è¿‘ååº— (Kawataé€±äº”ä¼‘ï¼Œæ”¹åƒé€™å®¶)ã€‚å¿…é»ã€Œç‚¸ä»€éŒ¦çƒé¾éºµã€ã€‚</div>
        <div class="actions">
            <a href="https://maps.app.goo.gl/XXXX" target="_blank" class="btn btn-map">å°èˆª</a>
            <button class="btn btn-code" onclick="copyText('77 166 459*22')">Mapcode</button>
        </div>
    </div>

    <div class="card sightseeing">
        <div class="card-header"><span class="time-tag">13:00</span> <h3>å‘†å‘†ç¸å…¬åœ’ (ç¶¾å·)</h3></div>
        <div class="desc">å¯¶å¯å¤¢ç²‰çµ²å¿…å»ã€‚æ—é‚Šæœ‰å…è²»åœè»Šå ´ã€‚</div>
        <div class="actions">
            <a href="https://maps.app.goo.gl/XXXX" target="_blank" class="btn btn-full btn-map">ğŸ“ Google Maps å°èˆª</a>
        </div>
    </div>

    <div class="card sightseeing">
        <div class="card-header"><span class="time-tag">14:30</span> <h3>é‡‘åˆ€æ¯”ç¾…å®®</h3></div>
        <div class="desc">ä¸€ç”Ÿå¿…åƒæ‹œã€‚æŒ‘æˆ°785éšå¾¡æœ¬å®®ã€‚æ²¿é€”å•†åº—è¡—å¾ˆç†±é¬§ã€‚<br>âš ï¸ 17:00 é—œé–€ã€‚</div>
        <div class="actions">
            <a href="https://maps.app.goo.gl/XXXX" target="_blank" class="btn btn-map">ç´å¹³å…¬åœ’åœè»Šå ´</a>
            <button class="btn btn-code" onclick="copyText('77 353 678*81')">77 353 678*81</button>
        </div>
    </div>

    <div class="card shopping">
        <div class="card-header"><span class="time-tag">18:30</span> <h3>æ°¸æ—ºå¤¢æ¨‚åŸ (Aeon Mall)</h3></div>
        <div class="desc">æ¡è²·è£œçµ¦å“ã€‚æ™šé¤å¯åœ¨ç¾é£Ÿè¡—è§£æ±ºã€‚</div>
    </div>

    <div class="date-divider">
        Day 2 : 02/28 (å…­)
        <div class="weather-info">â˜€ï¸ 9-15Â°C</div>
    </div>

    <div class="card transport">
        <div class="card-header"><span class="time-tag">07:20</span> <h3>é«˜æ¾æ¸¯ -> å°è±†å³¶</h3></div>
        <div class="desc">æ­ä¹˜æ¸¡è¼ªå‰å¾€åœŸåº„æ¸¯ (ç´„60åˆ†)ã€‚è»Šè¼›éœ€æå‰é ç´„ã€‚</div>
    </div>

    <div class="card sightseeing">
        <div class="card-header"><span class="time-tag">09:00</span> <h3>å°è±†å³¶ç’°å³¶</h3></div>
        <div class="desc">
            1. æ©„æ¬–å…¬åœ’ (é­”å¥³å®…æ€¥ä¾¿æƒæŠŠ)<br>
            2. é‡å²© (èƒ½é‡æ™¯é»)<br>
            3. åˆé¤ï¼šå°è±†å³¶æ‹‰éºµ HISHIO
        </div>
    </div>

    <div class="card sightseeing">
        <div class="card-header"><span class="time-tag">13:45</span> <h3>ğŸ‘¼ å¤©ä½¿ä¹‹è·¯</h3></div>
        <div class="desc">âš ï¸ é€€æ½®æ™‚é–“ 13:45~19:45ã€‚é€™æ®µæ™‚é–“æ‰èƒ½èµ°åˆ°å°é¢å°å³¶ã€‚</div>
        <div class="tags"><span class="tag must">å¿…çœ‹é€€æ½®</span></div>
    </div>

    <div class="card transport">
        <div class="card-header"><span class="time-tag">15:45</span> <h3>è¿”å›é«˜æ¾ & é«˜æ¾åŸ</h3></div>
        <div class="desc">æ­ä¹˜å‘†å‘†ç¸è™Ÿæ¸¡è¼ªã€‚æŠµé”å¾Œåƒè§€ã€Œç‰è—»å…¬åœ’ (é«˜æ¾åŸ)ã€ã€‚</div>
    </div>

    <div class="date-divider">
        Day 3 : 03/01 (æ—¥)
        <div class="weather-info">â›… 10-16Â°C</div>
    </div>

    <div class="card sightseeing">
        <div class="card-header"><span class="time-tag">09:00</span> <h3>æ —æ—å…¬åœ’</h3></div>
        <div class="desc">é ç´„äº† 09:00 çš„éŠèˆ¹ã€‚ç±³å…¶æ—ä¸‰æ˜Ÿåº­åœ’ã€‚</div>
        <div class="actions">
            <a href="https://maps.app.goo.gl/XXXX" target="_blank" class="btn btn-map">å°èˆª</a>
            <button class="btn btn-code" onclick="copyText('60 576 348*55')">60 576 348*55</button>
        </div>
    </div>

    <div class="card sightseeing">
        <div class="card-header"><span class="time-tag">11:30</span> <h3>ğŸŒ€ é³´é–€æ¼©æ¸¦ (é‡é»!)</h3></div>
        <div class="desc">âš ï¸ 11:30 æ˜¯æœ€ä½³å¤§æ½®æ™‚é–“ï¼è«‹å‹™å¿…æº–æ™‚æŠµé”æ¸¦ä¹‹é“æˆ–æ­èˆ¹ã€‚</div>
        <div class="tags"><span class="tag must">æ™‚é–“åš´æ ¼</span></div>
    </div>

    <div class="card food">
        <div class="card-header"><span class="time-tag">12:30</span> <h3>å ‚ã®æµ¦ é¯›é­šæ‹‰éºµ</h3></div>
        <div class="desc">å¿…é»ï¼šé¯›é­šé¹½å‘³æ‹‰éºµ + ç‚¸é¯›é­šçš® + æ›¿é£¯(ç‡‰é£¯)ã€‚</div>
    </div>

    <div class="card sightseeing">
        <div class="card-header"><span class="time-tag">15:30</span> <h3>çœ‰å±± & é˜¿æ³¢èˆæœƒé¤¨</h3></div>
        <div class="desc">çœ‰å±±çºœè»Šçœ‹é¢¨æ™¯ã€‚é˜¿æ³¢èˆæœƒé¤¨çœ‹è¡¨æ¼”ã€‚</div>
        <div class="actions">
            <button class="btn btn-code btn-full" onclick="copyText('56 361 036*63')">åœè»Šå ´ Mapcode</button>
        </div>
    </div>

    <div class="date-divider">
        Day 4 : 03/02 (ä¸€)
        <div class="weather-info">â˜ï¸ 11-15Â°C</div>
    </div>

    <div class="card food">
        <div class="card-header"><span class="time-tag">08:45</span> <h3>é•·ç”° in é¦™ã®é¦™</h3></div>
        <div class="desc">é¦™å·çƒé¾éºµç™¾ååº— NO.2ã€‚å¿…é»ã€Œé‡œæšçƒé¾éºµã€ã€‚</div>
    </div>

    <div class="card sightseeing">
        <div class="card-header"><span class="time-tag">10:30</span> <h3>ä¸¸é¾œåŸ & é«˜å±‹ç¥ç¤¾</h3></div>
        <div class="desc">ä¸¸é¾œåŸ (ç¾å­˜å¤©å®ˆ/é™¡å¡)ã€‚<br>é«˜å±‹ç¥ç¤¾ (å¤©ç©ºé³¥å±…) - å±±è·¯ç‹¹çª„è«‹å°å¿ƒé§•é§›ã€‚</div>
    </div>

    <div class="card sightseeing">
        <div class="card-header"><span class="time-tag">15:00</span> <h3>æ¾å±±åŸ & é“å¾Œæº«æ³‰</h3></div>
        <div class="desc">æ­çºœè»Šä¸Šæ¾å±±åŸã€‚æ™šä¸Šé€›é“å¾Œæº«æ³‰è¡—ï¼Œçœ‹å°‘çˆºæ©Ÿé—œé˜ã€‚</div>
        <div class="tags"><span class="tag tips">ä½ï¼šå¤æ¹§åœ’ é™</span></div>
    </div>

    <div class="date-divider">
        Day 5 : 03/03 (äºŒ)
        <div class="weather-info">ğŸŒ§ï¸ 10-14Â°C</div>
    </div>

    <div class="card sightseeing">
        <div class="card-header"><span class="time-tag">10:00</span> <h3>ä¸‹ç˜è»Šç«™</h3></div>
        <div class="desc">ç¥éš±å°‘å¥³æµ·ä¸Šéµé“å ´æ™¯ã€‚ç„¡äººè»Šç«™ï¼Œæ‹ç…§è«‹æ’éšŠã€‚</div>
    </div>

    <div class="card sightseeing">
        <div class="card-header"><span class="time-tag">13:00</span> <h3>å¤§æ´²åŸ & è‡¥é¾å±±èŠ</h3></div>
        <div class="desc">åˆé¤ï¼šå¤§æ´²çˆç«¯æ²¹å±‹ (è±šæ —é£¯)ã€‚</div>
    </div>

    <div class="card food">
        <div class="card-header"><span class="time-tag">19:00</span> <h3>é«˜çŸ¥ å¼˜äººå¸‚å ´</h3></div>
        <div class="desc">é«˜çŸ¥äººçš„å»šæˆ¿ï¼ä½”ä½å­ -> é»é¤ã€‚<br>å¿…åƒï¼šæ˜ç¥ä¸¸ç‚™ç‡’é°¹é­š(é¹½å‘³)ã€å®‰å…µè¡›é¤ƒå­ã€‚</div>
        <div class="tags"><span class="tag must">æ°£æ°›è¶…High</span></div>
    </div>

    <div class="date-divider">
        Day 6 : 03/04 (ä¸‰)
        <div class="weather-info">â˜€ï¸ 12-18Â°C</div>
    </div>

    <div class="card sightseeing">
        <div class="card-header"><span class="time-tag">å…¨æ—¥</span> <h3>å››è¬åå· ä¸€æ—¥éŠ</h3></div>
        <div class="desc">
            è»Šç¨‹è¼ƒé  (ç´„2å°æ™‚)ã€‚<br>
            1. ä½ç”°æ²‰ä¸‹æ©‹ (æœ€æœ‰å)<br>
            2. ç§Ÿè…³è¸è»Šæ¼«éŠ<br>
            3. æ­ä¹˜å±‹å½¢èˆ¹
        </div>
    </div>

    <div class="date-divider">
        Day 7 : 03/05 (å››)
        <div class="weather-info">â›… 11-17Â°C</div>
    </div>

    <div class="card sightseeing">
        <div class="card-header"><span class="time-tag">å¸‚å€</span> <h3>é«˜çŸ¥å¸‚å€å·¡ç¦®</h3></div>
        <div class="desc">
            1. é«˜çŸ¥åŸ (è¿½æ‰‹é–€+å¤©å®ˆåŒæ¡†)<br>
            2. æ¡‚æ¿± (å‚æœ¬é¾é¦¬åƒã€æ°´æ—é¤¨)<br>
            3. ç‰§é‡æ¤ç‰©åœ’ (æ—¥åŠ‡ã€Šçˆ›æ¼«ã€‹åŸå‹)<br>
            4. äº”å°å±±å±•æœ›å° (çœ‹å¤•é™½å¤œæ™¯)
        </div>
    </div>
    
    <div class="card food">
        <div class="card-header"><span class="time-tag">æ™šé¤</span> <h3>åœŸä½æ–™ç† å¸</h3></div>
        <div class="desc">ç™¾å¹´è€åº—ï¼Œé«”é©—æ­£å®—é°¹é­šåŠæ•²ç‡’èˆ‡é¯¨é­šæ–™ç†ã€‚</div>
    </div>

    <div class="date-divider">
        Day 8 : 03/06 (äº”)
        <div class="weather-info">â˜€ï¸ 9-15Â°C</div>
    </div>

    <div class="card sightseeing">
        <div class="card-header"><span class="time-tag">09:00</span> <h3>å¤§æ­¥å±å³½è°·</h3></div>
        <div class="desc">æ­ä¹˜è§€å…‰éŠè¦½èˆ¹ (30åˆ†é˜)ã€‚æ¬£è³å¥‡å²©æ€ªçŸ³ã€‚</div>
    </div>

    <div class="card sightseeing">
        <div class="card-header"><span class="time-tag">10:30</span> <h3>GoGo Adventure æ»‘ç´¢</h3></div>
        <div class="desc">é£›è¶Šç¥–è°·å·ï¼(è¨˜å¾—é ç´„)ã€‚ä¹‹å¾Œå»èµ°ã€Œè—¤è”“æ©‹ã€ã€‚</div>
    </div>

    <div class="card transport">
        <div class="card-header"><span class="time-tag">16:00</span> <h3>å‰å¾€ç´å¹³ (ä½å®¿)</h3></div>
        <div class="desc">å…¥ä½ï¼šå¾¡å®¿ æ•·å³¶é¤¨ (å°±åœ¨é‡‘åˆ€æ¯”ç¾…å®®åƒé“ä¸‹)ã€‚<br>æœ‰å…è²»å®µå¤œæ‹‰éºµï¼</div>
    </div>

    <div class="date-divider">
        Day 9 : 03/07 (å…­)
        <div class="weather-info">ğŸ›« å›ç¨‹</div>
    </div>

    <div class="card transport">
        <div class="card-header"><span class="time-tag">09:00</span> <h3>å‰å¾€é«˜æ¾æ©Ÿå ´</h3></div>
        <div class="desc">CI179 (18:55 èµ·é£›)ã€‚ç™½å¤©å¯å†é€›é€›æ©Ÿå ´é™„è¿‘æˆ–é‚„è»Šã€‚<br>å®Œç¾çµæŸä¹å¤©æ—…ç¨‹ï¼</div>
    </div>

</div>

<div id="tab-info" class="container">
    <h3 style="color:var(--secondary); margin-bottom:15px;">âœˆï¸ èˆªç­è³‡è¨Š</h3>
    <div class="card">
        <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
            <b>å»ç¨‹ CI278</b> <span>02/27 07:00 TPE</span>
        </div>
        <div style="display:flex; justify-content:space-between;">
            <b>å›ç¨‹ CI179</b> <span>03/07 18:55 TAK</span>
        </div>
        <hr style="border:0; border-top:1px dashed #ddd; margin:10px 0;">
        <small style="color:#666;">è¡Œæï¼š23kg / 1ä»¶</small>
    </div>

    <h3 style="color:var(--secondary); margin:25px 0 15px;">ğŸ¨ ä½å®¿åˆ—è¡¨</h3>
    
    <div class="hotel-card">
        <div class="hotel-img">é«˜æ¾æ°‘å®¿ç…§ç‰‡</div>
        <div class="hotel-info">
            <div class="hotel-title">Second Home ç€¬æˆ¸é¢¨æœˆ</div>
            <div class="hotel-detail">ğŸ“… 02/27 - 03/02 (3æ™š)</div>
            <div class="hotel-detail">ğŸ“ é«˜æ¾ | Google 4.9â­</div>
            <div class="hotel-detail">ğŸ“ +81 87-813-7738</div>
            <div class="actions" style="margin-top:10px;">
                <button class="btn btn-code" onclick="copyText('è«‹è¼¸å…¥Mapcode')">Mapcode</button>
            </div>
        </div>
    </div>

    <div class="hotel-card">
        <div class="hotel-img">å¤æ¹§åœ’ç…§ç‰‡</div>
        <div class="hotel-info">
            <div class="hotel-title">Kowakuen Haruka å¤æ¹§åœ’ é™</div>
            <div class="hotel-detail">ğŸ“… 03/02 - 03/03 (1æ™š)</div>
            <div class="hotel-detail">ğŸ“ æ¾å±±é“å¾Œ | Booking 9.2â­</div>
            <div class="hotel-detail">ğŸ“ +81 89-945-5911</div>
            <div class="hotel-detail" style="color:var(--accent); font-size:0.8rem;">âš ï¸ 15é»CI / 11é»CO / ç¸½æ—©é¤</div>
        </div>
    </div>

    <div class="hotel-card">
        <div class="hotel-img">OMO7ç…§ç‰‡</div>
        <div class="hotel-info">
            <div class="hotel-title">OMO7 é«˜çŸ¥ by æ˜Ÿé‡é›†åœ˜</div>
            <div class="hotel-detail">ğŸ“… 03/03 - 03/06 (3æ™š)</div>
            <div class="hotel-detail">ğŸ“ é«˜çŸ¥ | Booking 8.5â­</div>
            <div class="hotel-detail">ğŸ“ +81 50-3134-8095</div>
        </div>
    </div>

    <div class="hotel-card">
        <div class="hotel-img">æ•·å³¶é¤¨ç…§ç‰‡</div>
        <div class="hotel-info">
            <div class="hotel-title">å¾¡å®¿ æ•·å³¶é¤¨</div>
            <div class="hotel-detail">ğŸ“… 03/06 - 03/07 (1æ™š)</div>
            <div class="hotel-detail">ğŸ“ ç´å¹³ | Booking 9.2â­</div>
            <div class="hotel-detail">ğŸ“ +81 87-758-8005</div>
            <div class="hotel-detail" style="color:var(--accent); font-size:0.8rem;">ğŸœ å…è²»å®µå¤œæ‹‰éºµ / è²¸åˆ‡é¢¨å‘‚</div>
        </div>
    </div>
</div>

<div id="tab-tools" class="container">
    <h3 style="color:var(--secondary);">ğŸ’° å…±åŒè¨˜å¸³</h3>
    <div class="card">
        <div class="input-group">
            <input type="text" id="expense-desc" placeholder="é …ç›® (ä¾‹å¦‚: å¼˜äººå¸‚å ´æ™šé¤)">
        </div>
        <div class="input-group">
            <input type="number" id="expense-amount" placeholder="é‡‘é¡ (æ—¥å¹£)" inputmode="numeric">
        </div>
        <button class="btn" style="background:var(--secondary); color:white; width:100%;" onclick="addExpense()">â• æ–°å¢æ”¯å‡º</button>
    </div>

    <div class="card">
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <h3>æ”¯å‡ºæ˜ç´°</h3>
            <span id="status" style="font-size:0.8rem; color:#999;">å·²é€£ç·š</span>
        </div>
        <ul class="expense-list" id="expense-list">
            </ul>
        <div class="total-box">
            ç¸½è¨ˆ: Â¥<span id="total-amount">0</span>
        </div>
    </div>
</div>

<nav class="nav-bar">
    <div class="nav-item active" onclick="switchTab('itinerary', this)">
        <i>ğŸ—ºï¸</i> è¡Œç¨‹
    </div>
    <div class="nav-item" onclick="switchTab('info', this)">
        <i>ğŸ¨</i> è³‡è¨Š
    </div>
    <div class="nav-item" onclick="switchTab('tools', this)">
        <i>Â¥</i> è¨˜å¸³
    </div>
</nav>

<div id="toast">å·²è¤‡è£½ Mapcodeï¼</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, addDoc, onSnapshot, query, orderBy, serverTimestamp, deleteDoc, doc } 
    from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  // æ‚¨çš„ Firebase è¨­å®š
  const firebaseConfig = {
    apiKey: "AIzaSyDVjPhieb7LVZAwtKjg1tpmZ6TE9Ti6g14",
    authDomain: "shikoku-trip-2026.firebaseapp.com",
    projectId: "shikoku-trip-2026",
    storageBucket: "shikoku-trip-2026.firebasestorage.app",
    messagingSenderId: "332889284995",
    appId: "1:332889284995:web:686e325c99a2ecfa0316b6",
    measurementId: "G-4LCZND97JT"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // æ–°å¢æ”¯å‡º
  window.addExpense = async function() {
      const desc = document.getElementById('expense-desc').value;
      const amount = Number(document.getElementById('expense-amount').value);
      
      if(desc && amount) {
          try {
              document.getElementById('status').innerText = "å„²å­˜ä¸­...";
              await addDoc(collection(db, "expenses"), {
                  desc: desc,
                  amount: amount,
                  timestamp: serverTimestamp()
              });
              document.getElementById('expense-desc').value = '';
              document.getElementById('expense-amount').value = '';
              document.getElementById('status').innerText = "å„²å­˜æˆåŠŸ";
          } catch (e) {
              console.error("Error: ", e);
              alert('ä¸Šå‚³å¤±æ•—');
          }
      } else {
          alert("è«‹è¼¸å…¥å®Œæ•´è³‡è¨Š");
      }
  }

  // è®€å–æ”¯å‡º
  const q = query(collection(db, "expenses"), orderBy("timestamp", "desc"));
  onSnapshot(q, (snapshot) => {
      const list = document.getElementById('expense-list');
      const totalEl = document.getElementById('total-amount');
      list.innerHTML = '';
      let total = 0;
      
      snapshot.forEach((doc) => {
          const data = doc.data();
          const safeAmount = data.amount || 0;
          total += safeAmount;
          list.innerHTML += `
            <li>
                <span>${data.desc}</span> 
                <span style="font-weight:bold; color:var(--secondary);">Â¥${safeAmount.toLocaleString()}</span>
            </li>`;
      });
      totalEl.innerText = total.toLocaleString();
  });

  // Tab åˆ‡æ›åŠŸèƒ½
  window.switchTab = function(tabId, navEl) {
      document.querySelectorAll('.container').forEach(el => el.classList.remove('active'));
      document.getElementById('tab-' + tabId).classList.add('active');
      document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
      navEl.classList.add('active');
      window.scrollTo(0, 0);
  }

  // è¤‡è£½æ–‡å­—åŠŸèƒ½
  window.copyText = function(text) {
      navigator.clipboard.writeText(text).then(() => {
          const toast = document.getElementById("toast");
          toast.classList.add("show");
          setTimeout(() => toast.classList.remove("show"), 2000);
      });
  }
</script>

</body>
</html>